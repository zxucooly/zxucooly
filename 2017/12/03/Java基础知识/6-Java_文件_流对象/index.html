<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-z-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-z-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://zxucooly.github.io').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.6.0',
    exturl: true,
    sidebar: {"position":"right","display":"hide","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"default"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":true},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="简要1234567891011121314151617181920212223242526272829303132333435字节流输入字节流：-----------| InputStream  所有输入字节流的基类  抽象类-----------------| FileInputStream 读取文件数据的输入字节流-----------------| BufferedInputStream">
<meta property="og:type" content="article">
<meta property="og:title" content="java基础知识-文件">
<meta property="og:url" content="https://zxucooly.github.io/2017/12/03/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/6-Java_%E6%96%87%E4%BB%B6_%E6%B5%81%E5%AF%B9%E8%B1%A1/index.html">
<meta property="og:site_name" content="ZXUBLOG">
<meta property="og:description" content="简要1234567891011121314151617181920212223242526272829303132333435字节流输入字节流：-----------| InputStream  所有输入字节流的基类  抽象类-----------------| FileInputStream 读取文件数据的输入字节流-----------------| BufferedInputStream">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2017-12-02T16:00:00.000Z">
<meta property="article:modified_time" content="2018-11-29T00:51:33.687Z">
<meta property="article:author" content="zxucooly">
<meta property="article:tag" content="java基础知识">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://zxucooly.github.io/2017/12/03/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/6-Java_%E6%96%87%E4%BB%B6_%E6%B5%81%E5%AF%B9%E8%B1%A1/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>java基础知识-文件 | ZXUBLOG</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ZXUBLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">PERSISTENCE</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">18</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">6</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">48</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zxucooly.github.io/2017/12/03/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/6-Java_%E6%96%87%E4%BB%B6_%E6%B5%81%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="zxucooly">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZXUBLOG">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          java基础知识-文件
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-12-03 00:00:00" itemprop="dateCreated datePublished" datetime="2017-12-03T00:00:00+08:00">2017-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-11-29 08:51:33" itemprop="dateModified" datetime="2018-11-29T08:51:33+08:00">2018-11-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="简要"><a href="#简要" class="headerlink" title="简要"></a>简要</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">字节流</span><br><span class="line"></span><br><span class="line">输入字节流：</span><br><span class="line">-----------| InputStream  所有输入字节流的基类  抽象类</span><br><span class="line">-----------------| FileInputStream 读取文件数据的输入字节流</span><br><span class="line">-----------------| BufferedInputStream  缓冲输入字符流       该类出现的目的是为了提高读取文件 数据的效率。 这个类其实只不过是在内部维护了一个<span class="number">8</span>kb的字节数组而已。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出字节流：</span><br><span class="line">-----------| OutputStream 所有输出字节流的基类。  抽象类。</span><br><span class="line">----------------| FileOutputStream 向文件输出数据的输出字节流  </span><br><span class="line">----------------| BufferedOutputStream 缓冲输出字节流   该类出现的目的也是为了提高向文件写数据的效率。 这个类的也只不过是在内部维护了一个<span class="number">8</span>kb的字节数组而已。</span><br><span class="line"></span><br><span class="line">字符流 :  字符流 = 字节流  + 编码（解码）</span><br><span class="line"></span><br><span class="line">输入字符流:</span><br><span class="line">---------| Reader   所有输入字符流的基类。  抽象类。</span><br><span class="line">----------------| FileReader 读取文件数据的输入字符流。 </span><br><span class="line">----------------| BufferedReader 缓冲输入字符流           该类出现的目的是为了提高读取文件数据的效率与拓展FileReader的(readLine)功能。  这个类的也只不过是在内部维护了一个<span class="number">8</span>kb的字符数组而已。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出字符流:</span><br><span class="line">---------| Writer 所有输出字符流的基类。  抽象类</span><br><span class="line">----------------| FileWriter 向文件输出数据的输出字符流  </span><br><span class="line">----------------| BufferedWriter 缓冲输出字符流        该类出现的目的是为了提高写文件数据的效率与拓展FileWriter的(newLine)功能.</span><br><span class="line">----------------| 转换流</span><br><span class="line">BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in,<span class="string">"gbk"</span>));</span><br><span class="line">System.out.println(<span class="string">"输入："</span>);</span><br><span class="line">System.out.println(br.readLine());</span><br><span class="line"></span><br><span class="line">BufferedWriter writer = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(System.out));</span><br><span class="line">writer.write(<span class="string">"hello你好\n"</span>);</span><br><span class="line">writer.flush();</span><br><span class="line"></span><br><span class="line">PrintWrter pw = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span>  BufferdWriter(<span class="keyword">new</span> OutputSteamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">"a.txt"</span>),<span class="string">"utf-8"</span>)),<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h1 id="File对象"><a href="#File对象" class="headerlink" title="File对象"></a>File对象</h1><p>File类可以描述一个文件或者一个文件夹。</p>
<p>File类的构造方法：</p>
<pre><code>File(String pathname)  指定文件或者文件夹的路径创建一个File文件。

File(File parent, String child)   根据 parent 抽象路径名和 child 路径名字符串创建一个新 File 实例。 

File(String parent, String child) </code></pre><p>目录分隔符：  在windows机器上 的目录分隔符是 \  ,在linux机器上的目录分隔符是/ .</p>
<p>注意：  在windows上面\ 与 / 都可以使用作为目录分隔符。 而且，如果写/ 的时候只需要写一个即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">File f = <span class="keyword">new</span> File(<span class="string">"c:/"</span>);</span><br><span class="line"></span><br><span class="line">File f1 = <span class="keyword">new</span> File(f,<span class="string">"a2.txt"</span>);</span><br><span class="line"></span><br><span class="line">File f3 = <span class="keyword">new</span> File(<span class="string">"c:\\"</span>,<span class="string">"a3.txt"</span>);</span><br><span class="line">System.out.println(f1.getAbsolutePath()); <span class="comment">// c:\a2.txt</span></span><br><span class="line">System.out.println(f.getFreeSpace()/<span class="number">1024</span>/<span class="number">1024</span>/<span class="number">1024</span>); <span class="comment">// byte KB MB GB</span></span><br><span class="line">System.out.println(f.isDirectory()); <span class="comment">//true</span></span><br><span class="line">System.out.println(f1.canExecute()); <span class="comment">//false</span></span><br><span class="line">System.out.println(f1.canRead()); <span class="comment">//false</span></span><br><span class="line"><span class="keyword">if</span>(f1.canWrite())&#123;</span><br><span class="line">	f1.createNewFile();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(File.separator <span class="keyword">instanceof</span> String);<span class="comment">// true</span></span><br><span class="line">System.out.println(File.separatorChar); <span class="comment">// \</span></span><br><span class="line">System.out.println(f1.exists()); <span class="comment">// false c:/ 路径访问不了</span></span><br><span class="line">System.out.println(<span class="keyword">new</span> File(<span class="string">"C:/Users/ZhangXu/Desktop/f2.txt"</span>).exists()); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h1 id="File类中常用的方法"><a href="#File类中常用的方法" class="headerlink" title="File类中常用的方法"></a>File类中常用的方法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">创建：</span><br><span class="line">createNewFile()	在指定位置创建一个空文件，成功就返回<span class="keyword">true</span>，如果已存在就不创建然后返回<span class="keyword">false</span></span><br><span class="line">mkdir()			在指定位置创建目录，这只会创建最后一级目录，如果上级目录不存在就抛异常。</span><br><span class="line">mkdirs()		在指定位置创建目录，这会创建路径中所有不存在的目录。</span><br><span class="line">renameTo(File dest)	重命名文件或文件夹，也可以操作非空的文件夹，文件不同时相当于文件的剪切,剪切时候不能操作非空的文件夹。移动/重命名成功则返回<span class="keyword">true</span>，失败则返回<span class="keyword">false</span>。</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">删除：</span><br><span class="line">delete()	删除文件或一个空文件夹，如果是文件夹且不为空，则不能删除，成功返回<span class="keyword">true</span>，失败返回<span class="keyword">false</span>。</span><br><span class="line">deleteOnExit()在虚拟机终止时，请求删除此抽象路径名表示的文件或目录，保证程序异常时创建的临时文件也可以被删除</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">判断：</span><br><span class="line">		exists()		文件或文件夹是否存在。</span><br><span class="line">		isFile()		是否是一个文件，如果不存在，则始终为<span class="keyword">false</span>。</span><br><span class="line">		isDirectory()	是否是一个目录，如果不存在，则始终为<span class="keyword">false</span>。</span><br><span class="line">		isHidden()		是否是一个隐藏的文件或是否是隐藏的目录。</span><br><span class="line">		isAbsolute()	测试此抽象路径名是否为绝对路径名。</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">获取：</span><br><span class="line">getName()		获取文件或文件夹的名称，不包含上级路径。</span><br><span class="line">getPath()       返回绝对路径，可以是相对路径，但是目录要指定</span><br><span class="line">getAbsolutePath()	获取文件的绝对路径，与文件是否存在没关系</span><br><span class="line">length()		获取文件的大小（字节数），如果文件不存在则返回<span class="number">0L</span>，如果是文件夹也返回<span class="number">0L</span>。</span><br><span class="line">getParent()		返回此抽象路径名父目录的路径名字符串；如果此路径名没有指定父目录，则返回<span class="keyword">null</span>。</span><br><span class="line">lastModified()	获取最后一次被修改的时间。</span><br><span class="line"></span><br><span class="line">文件夹相关：</span><br><span class="line">staic File[] listRoots()	列出所有的根目录（Window中就是所有系统的盘符）</span><br><span class="line">list()						返回目录下的文件或者目录名，包含隐藏文件。对于文件这样操作会返回<span class="keyword">null</span>。</span><br><span class="line">list(FilenameFilter filter)	返回指定当前目录中符合过滤条件的子文件或子目录。对于文件这样操作会返回<span class="keyword">null</span>。</span><br><span class="line">listFiles()		返回目录下的文件或者目录对象（File类实例），包含隐藏文件。对于文件这样操作会返回<span class="keyword">null</span>。</span><br><span class="line">listFiles(FilenameFilter filter)	返回指定当前目录中符合过滤条件的子文件或子目录。对于文件这样操作会返回<span class="keyword">null</span>。</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> File(<span class="string">"c:/aa/bb/dd/cc"</span>).mkdirs(); <span class="comment">//true</span></span><br><span class="line"><span class="keyword">new</span> File(<span class="string">"c:/aa"</span>).mkdir(); <span class="comment">//true</span></span><br><span class="line">File[] listRoots = File.listRoots();</span><br><span class="line">System.out.println(Arrays.toString(listRoots)); <span class="comment">// [C:\]</span></span><br><span class="line"></span><br><span class="line">String[] fileNames = file.list(); </span><br><span class="line"><span class="comment">//把 当前文件夹下面的所有子文件名与子文件夹名 存储到一个String类型 的数组中 返回。</span></span><br><span class="line"><span class="keyword">for</span>(String fileName : fileNames)&#123;</span><br><span class="line">    System.out.println(fileName);</span><br><span class="line">&#125;</span><br><span class="line">				</span><br><span class="line">File[] files = file.listFiles(); </span><br><span class="line"><span class="comment">// 把当前文件夹下面的所有子文件与子文件夹都使用了一个File对象描述，然后把这些File对象存储到一个File数组中返回</span></span><br><span class="line"><span class="keyword">for</span>(File fileItem : files)&#123;</span><br><span class="line">    System.out.println(<span class="string">"文件名："</span>+ fileItem.getName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>过滤文件，找出.java文件</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 文件操作;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileFilter;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyFilter</span> <span class="keyword">implements</span> <span class="title">FileFilter</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File pathname)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> pathname.getName().endsWith(<span class="string">".java"</span>)&amp;&amp;pathname.isFile();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileFilterDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;String&gt; list = <span class="keyword">null</span>;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"C:/Users/ZhangXu/Desktop/"</span>);</span><br><span class="line">		list = getFileName(f);</span><br><span class="line">		System.out.println(list);</span><br><span class="line">		</span><br><span class="line">		List&lt;String&gt; list2 = getFileName2(f);</span><br><span class="line">		System.out.println(list2);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getFileName2</span><span class="params">(File f)</span> </span>&#123;</span><br><span class="line">		File[] listFiles = f.listFiles(<span class="keyword">new</span> MyFilter());</span><br><span class="line">		List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		<span class="keyword">for</span>(File file : listFiles)&#123;</span><br><span class="line">			</span><br><span class="line">			list.add(file.getName());</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> list;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getFileName</span><span class="params">(File f)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		</span><br><span class="line">		File[] listFiles = f.listFiles();</span><br><span class="line">		<span class="keyword">for</span>(File file : listFiles)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.isFile() &amp;&amp; file.getName().matches(<span class="string">"^.+\\.java$"</span>))&#123;</span><br><span class="line">				list.add(file.getName());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> list;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h1><p>File对象可以表示存在的文件或文件夹，也可以表示不存在的。</p>
<p>我们想要得到文件的内容怎么办，File只是操作文件，文件的内容如何处理就需要使用io流技术了。</p>
<p>例如:在C盘下有一个名称为a.txt的文本文件.想要通过Java程序读出来文件中的内容,需要使用IO流技术.同样想要将程序中的数据,保存到硬盘的文件中,也需要IO流技术.</p>
<p>读和写文件文件示例:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 文件操作;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IODemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"C:\\Users\\ZhangXu\\Desktop\\temp.txt"</span>);</span><br><span class="line">		writeData(file);</span><br><span class="line">		readData(file);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeData</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">		FileOutputStream fout = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">if</span>(file == <span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"file null"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				file.createNewFile();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			fout = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">			<span class="keyword">byte</span>[] b = &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>&#125;;</span><br><span class="line">			fout.write(b);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(fout != <span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					fout.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readData</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">		FileInputStream fin = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">if</span>(file == <span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"file null"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				file.createNewFile();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			fin = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">			System.out.println(file.length());</span><br><span class="line">			<span class="keyword">int</span> len;</span><br><span class="line">			<span class="keyword">while</span>((len = fin.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">				System.out.print((<span class="keyword">char</span>)len+<span class="string">" "</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(fin != <span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					fin.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当完成流的读写时,应该通过调用close方法来关闭它,这个方法会释放掉十分有限的操作系统资源.如果一个应用程序打开了过多的流而没有关闭它们,那么系统资源将被耗尽.</p>
<p><strong>IO流简介：（Input/Output）</strong></p>
<p>   I/O类库中使用“流”这个抽象概念。Java对设备中数据的操作是通过流的方式。</p>
<p>   表示任何有能力产出数据的数据源对象，或者是有能力接受数据的接收端对象。“流”屏蔽了实际的I/O设备中处理数据的细节。IO流用来处理设备之间的数据传输。设备是指硬盘、内存、键盘录入、网络等。</p>
<p>   Java用于操作流的对象都在IO包中。IO流技术主要用来处理设备之间的数据传输。</p>
<p>   由于Java用于操作流的对象都在IO包中。所以使用IO流需要导包如：import java.io.*;</p>
<p><strong>IO流的分类</strong></p>
<p>   流按操作数据类型的不同分为两种：字节流与字符流。</p>
<p>   流按流向分为：输入流，输出流（以程序为参照物，输入到程序，或是从程序输出）</p>
<h1 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h1><p>我们已经知道File对象封装的是文件或者路径属性，但是不包含向（从）文件读（写）数据的方法。为了实现对文件的读和写操作需要学会正确的使用Java的IO创建对象。</p>
<p>字节流的抽象基类：</p>
<p>   输入流：java.io.InputStream</p>
<p>   输出流：java.io.OutputStream</p>
<p>特点：</p>
<p>​      字节流的抽象基类派生出来的子类名称都是以其父类名作为子类名的后缀。</p>
<p>​      如：FileInputStream, ByteArrayInputStream等。</p>
<p>说明：</p>
<p>​      字节流处理的单元是一个字节，用于操作二进制文件（计算机中所有文件都是二进制文件）</p>
<h2 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h2><p>显然流是Java中的一类对象，要打开流其实就是创建具体流的对象，由于是读取硬盘上的文件，应该使用输入流。所以找到了InputStream类，但是InputStream是抽象类，需要使用它的具体实现类来创建对象就是FileInputStream。通过new 调用FileInputStream 的构造方法来创建对象。发现FileInputStream的构造方法需要指定文件的来源。查看构造方法，可以接受字符串也可以接受File对象。我们通过构建File对象指定文件路径。</p>
<p>使用流就像使用水管一样，要打开就要关闭。所以打开流和关闭流的动作是比不可少的。如何关闭流？使用close方法即可，当完成流的读写时,应该通过调用close方法来关闭它,这个方法会释放掉十分有限的操作系统资源.如果一个应用程序打开了过多的流而没有关闭它们,那么系统资源将被耗尽.</p>
<blockquote>
<p>如何通过流读取内容？</p>
</blockquote>
<p>查找api文档通过read方法，查看该方法，发现有返回值，并且是int类型的，该方法一次读取一个字节（byte）</p>
<h3 id="读取方式一"><a href="#读取方式一" class="headerlink" title="读取方式一"></a>读取方式一</h3><p>read()方法每次读取一个字节，返回int类型，到文件末尾返回-1.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readData1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len = fis.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.print((<span class="keyword">char</span>)len);</span><br><span class="line">		&#125;</span><br><span class="line">		fis.close();</span><br><span class="line">	&#125;<span class="comment">// abcde</span></span><br></pre></td></tr></table></figure>

<h3 id="读取方式二"><a href="#读取方式二" class="headerlink" title="读取方式二"></a>读取方式二</h3><p>使用read(byte[] b) 方法,返回读取字节个个数。使用缓冲区(关键是缓冲区大小的确定，一般是1024的倍数)</p>
<p>使用read()方法的时候，流需要读一次就处理一次，将读到的数据装入到字节数组中，一次性的操作数组，可以提高效率。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readData2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		<span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		System.out.println(fis.read(b));</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;b.length;i++)&#123;</span><br><span class="line">			System.out.print((<span class="keyword">char</span>)b[i]);</span><br><span class="line">		&#125;</span><br><span class="line">        fis.close();</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">// 5 abcde</span></span><br></pre></td></tr></table></figure>

<h3 id="读取方式三"><a href="#读取方式三" class="headerlink" title="读取方式三"></a>读取方式三</h3><p>使用read(byte[] b,int off,int len)，返回读的字节数</p>
<p>查看api文档，</p>
<p>b，显然是一个byte类型数组，当做容器来使用</p>
<p>off，是指定从数组的什么位置开始存字节</p>
<p>len，希望读多少个</p>
<p>其实就是把数组的一部分当做流的容器来使用。告诉容器，<strong>从什么地方开始装要装多少</strong>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readData3</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		<span class="comment">// fis.skip(4); // 从文本中跳过4个字节开始读入数据</span></span><br><span class="line">    	<span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> start = <span class="number">5</span>;</span><br><span class="line">		<span class="keyword">int</span> num = <span class="number">10</span>;</span><br><span class="line">		fis.read(b, start, num);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;start+num;i++)&#123;</span><br><span class="line">			System.out.print((<span class="keyword">char</span>)b[i]);<span class="comment">// 打印读入的数据，读出的数据长度为num,\r\n算两个字节</span></span><br><span class="line">		&#125;</span><br><span class="line">		fis.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h3 id="读取方式四"><a href="#读取方式四" class="headerlink" title="读取方式四"></a>读取方式四</h3><p>使用缓冲(提高效率),并循环读取(读完所有内容).</p>
<p>总结：读完文件的所有内容。很显然可以使用普通的read方法，一次读一个字节直到读到文件末尾。为了提高效率可以使用read(byte[] byt);方法就是所谓的使用缓冲提高效率。</p>
<p>我们可以读取大文本数据测试(大于1K的文本文件.)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readData4</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> ((len = fis.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(b, <span class="number">0</span>, len));</span><br><span class="line">		&#125;</span><br><span class="line">		fis.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="OutputStream"><a href="#OutputStream" class="headerlink" title="OutputStream"></a>OutputStream</h2><p>OutputStream的实现类FileOutputStream 创建FileOutputStream 流对象,必须指定数据要存放的目的地。通过构造函数的形式。创建流对象时，调用了系统底层的资源。在指定位置建立了数据存放的目的文件。</p>
<h3 id="写入数据"><a href="#写入数据" class="headerlink" title="写入数据"></a>写入数据</h3><p>write(int b)和write(byte[] b)两种方式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">write</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function">                    <span class="keyword">throws</span> IOException将指定的字节写入此输出流。write 的常规协定是：向输出流写入一个字节。要写入的字节是参数 b 的八个低位。b 的 24 个高位将被忽略。 </span></span><br><span class="line"><span class="function">OutputStream 的子类必须提供此方法的实现。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">JAVA里给<span class="keyword">int</span>类型分配4个字节的存储空间，相当于32位二进制数，8个低位就是b的右边8位，24个高位也就是左边24位。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">参数：</span></span><br><span class="line"><span class="function">b - 字节 </span></span><br><span class="line"><span class="function">抛出： </span></span><br><span class="line"><span class="function">IOException - 如果发生 I/O 错误。尤其是，如果已关闭输出流，则可能抛出 IOException。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeData1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>,<span class="keyword">true</span>);</span><br><span class="line">    	<span class="comment">// true 不覆盖原本文件内容，追加内容。</span></span><br><span class="line">		fos.write(Integer.parseInt(<span class="string">"00111100"</span>, <span class="number">2</span>));</span><br><span class="line">		fos.write(<span class="string">'a'</span>);</span><br><span class="line">		fos.write(<span class="string">'b'</span>);</span><br><span class="line">		fos.close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeData2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>,<span class="keyword">true</span>);</span><br><span class="line">		<span class="keyword">byte</span>[] b = <span class="string">"\r\nhahahah"</span>.getBytes();</span><br><span class="line">		fos.write(b);</span><br><span class="line">		fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="拷贝文件"><a href="#拷贝文件" class="headerlink" title="拷贝文件"></a>拷贝文件</h2><p>读多少，写多少。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyImg</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/users/ZhangXu/Desktop/collections.png"</span>);</span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:/users/ZhangXu/Desktop/collections2.png"</span>, <span class="keyword">true</span>);</span><br><span class="line">		<span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> ((len = fis.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">			fos.write(b, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		fos.close();</span><br><span class="line">		fis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>当程序读取或写入文件内容时，发生异常，输入流或输出流关闭不了，造成资源浪费。</p>
<p>使用try{} catch(){}finally{}语句。try中放入可能出现异常的语句，catch是捕获异常对象，fianlly是一定要执行的代码</p>
<h2 id="字节缓冲流"><a href="#字节缓冲流" class="headerlink" title="字节缓冲流"></a>字节缓冲流</h2><p>上述程序中我们为了提高流的使用效率,自定义了字节数组,作为缓冲区.Java其实提供了专门的字节流缓冲来提高效率.</p>
<p><strong>BufferedInputStream和BufferedOutputStream</strong></p>
<p>BufferedOutputStream和BufferedOutputStream类可以通过减少读写次数来提高输入和输出的速度。它们内部有一个缓冲区，用来提高处理效率。查看API文档，发现可以指定缓冲区的大小。其实内部也是封装了字节数组。没有指定缓冲区大小，默认的字节是8192。</p>
<p>显然缓冲区输入流和缓冲区输出流要配合使用。首先缓冲区输入流会将读取到的数据读入缓冲区，当缓冲区满时，或者调用flush方法，缓冲输出流会将数据写出。</p>
<p>注意：当然使用缓冲流来进行提高效率时，对于小文件可能看不到性能的提升。但是文件稍微大一些的话，就可以看到实质的性能提升了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyImgByBuffered</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/users/ZhangXu/Desktop/collections.png"</span>);</span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:/users/ZhangXu/Desktop/collectionsbuffer.png"</span>, <span class="keyword">true</span>);</span><br><span class="line">		BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">		BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">		<span class="keyword">int</span> len;</span><br><span class="line">		<span class="keyword">while</span>((len = bis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">			bos.write(len);</span><br><span class="line">		&#125;</span><br><span class="line">		fos.close();</span><br><span class="line">		fis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h1><p>计算机并不区分二进制文件与文本文件。所有的文件都是以二进制形式来存储的，因此，从本质上说，所有的文件都是二进制文件。所以字符流是建立在字节流之上的，它能够提供字符层次的编码和解码。例如，在写入一个字符时，Java虚拟机会将字符转为文件指定的编码（默认是系统默认编码），在读取字符时，再将文件指定的编码转化为字符。</p>
<p><strong>中文字符使用gbk编码是2个字节保存，使用utf-8编码是3个字节编码。因此使用字节流读取不方便。</strong></p>
<p>总结：字符流就是：字节流 + 编码表，为了更便于操作文字数据。字符流的抽象基类：</p>
<p>Reader ， Writer。</p>
<p>由这些类派生出来的子类名称都是以其父类名作为子类名的后缀，如FileReader、FileWriter等。</p>
<h2 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h2><p>方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>，<span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span>：</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	读取一个字符。返回的是读到的那个字符。如果读到流的末尾，返回-1.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">2，<span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span>[])</span>：</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	将读到的字符存入指定的数组中，返回的是读到的字符个数，也就是往数组里装的元素的个数。如果读到流的末尾，返回-1.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">3，<span class="title">close</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	读取字符其实用的是window系统的功能，就希望使用完毕后，进行资源的释放</span></span><br><span class="line"><span class="function">4，read</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span>[] cbuf,</span></span></span><br><span class="line"><span class="function"><span class="params">                         <span class="keyword">int</span> off,</span></span></span><br><span class="line"><span class="function"><span class="params">                         <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function">                  <span class="keyword">throws</span> IOException将字符读入数组的某一部分。在某个输入可用、发生 I/O 错误或者到达流的末尾前，此方法一直阻塞。 </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    参数：</span></span><br><span class="line"><span class="function">    cbuf - 目标缓冲区</span></span><br><span class="line"><span class="function">    off - 开始存储字符处的偏移量</span></span><br><span class="line"><span class="function">    len - 要读取的最多字符数 </span></span><br><span class="line"><span class="function">    返回：</span></span><br><span class="line"><span class="function">    读取的字符数，如果已到达流的末尾，则返回 -1 </span></span><br><span class="line"><span class="function">    抛出： </span></span><br><span class="line"><span class="function">IOException - 如果发生 I/O 错误																</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">由于Reader也是抽象类，所以想要使用字符输入流需要使用Reader的实现类。查看API文档。找到了FileReader。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    1，用于读取文本文件的流对象。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    2，用于关联文本文件。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    构造函数：在读取流对象初始化的时候，必须要指定一个被读取的文件。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readerData</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		<span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len;</span><br><span class="line">		<span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(cbuf,<span class="number">0</span>,len));</span><br><span class="line">		&#125;</span><br><span class="line">		fr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Writer"><a href="#Writer" class="headerlink" title="Writer"></a>Writer</h2><p>Writer中的常见的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>，write(ch): 将一个字符写入到流中。</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>，write(<span class="keyword">char</span>[]): 将一个字符数组写入到流中。</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>，write(String): 将一个字符串写入到流中。</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>，flush():刷新流，将流中的数据刷新到目的地中，流还存在。</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>，close():关闭资源：在关闭前会先调用flush()，刷新流中的数据去目的地。然流关闭。</span><br><span class="line"></span><br><span class="line">发现基本方法和OutputStream 类似，有write方法，功能更多一些。可以接收字符串。</span><br><span class="line"></span><br><span class="line">同样道理Writer是抽象类无法创建对象。查阅API文档，找到了Writer的子类FileWriter</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writerData</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>,<span class="keyword">true</span>);</span><br><span class="line">		<span class="keyword">char</span>[] cbuf = <span class="string">"且行且珍惜"</span>.toCharArray();</span><br><span class="line">		fw.write(cbuf);</span><br><span class="line">		fw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符流拷贝文件"><a href="#字符流拷贝文件" class="headerlink" title="字符流拷贝文件"></a>字符流拷贝文件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyByRWer</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">	FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">	FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"c:/users/ZhangXu/Desktop/tempa.txt"</span>,<span class="keyword">true</span>);</span><br><span class="line">	<span class="keyword">int</span> len;</span><br><span class="line">	<span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">	<span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">		fw.write(cbuf, <span class="number">0</span>, len);</span><br><span class="line">	&#125;</span><br><span class="line">	fr.close();</span><br><span class="line">	fw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>字节流可以拷贝视频和音频等文件，那么字符流可以拷贝这些吗？</p>
<p>经过验证拷贝图片是不行的。发现丢失了信息，为什么呢？</p>
<p>计算机中的所有信息都是以二进制形式进行的存储（1010）图片中的也都是二进制</p>
<p>在读取文件的时候字符流自动对这些二进制按照码表进行了编码处理，但是图片本来就是二进制文件，不需要进行编码。有一些巧合在码表中有对应，就可以处理，并不是所有的二进制都可以找到对应的。信息就会丢失。所以字符流只能拷贝以字符为单位的文本文件</p>
<p>（以ASCII码为例是127个，并不是所有的二进制都可以找到对应的ASCII，有些对不上的，就会丢失信息。）</p>
<h2 id="字符流的异常处理"><a href="#字符流的异常处理" class="headerlink" title="字符流的异常处理"></a>字符流的异常处理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		String path1 = <span class="string">"c:/a.txt"</span>;</span><br><span class="line">		String path2 = <span class="string">"c:/b.txt"</span>;</span><br><span class="line"></span><br><span class="line">		copyFile2(path1, path2);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 使用字符流拷贝文件，有完善的异常处理</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyFile2</span><span class="params">(String path1, String path2)</span> </span>&#123;</span><br><span class="line">		Reader reader = <span class="keyword">null</span>;</span><br><span class="line">		Writer writer = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 打开流</span></span><br><span class="line">			reader = <span class="keyword">new</span> FileReader(path1);</span><br><span class="line">			writer = <span class="keyword">new</span> FileWriter(path2);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 进行拷贝</span></span><br><span class="line">			<span class="keyword">int</span> ch = -<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span> ((ch = reader.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">				writer.write(ch);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="comment">// 关闭流，注意一定要能执行到close()方法，所以都要放到finally代码块中</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (reader != <span class="keyword">null</span>) &#123;</span><br><span class="line">					reader.close();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">			&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (writer != <span class="keyword">null</span>) &#123;</span><br><span class="line">						writer.close();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符流缓冲区"><a href="#字符流缓冲区" class="headerlink" title="字符流缓冲区"></a>字符流缓冲区</h2><p>查看Reader 发现Reader,操作的是字符,我们就不需要进行编码解码操作,由字符流读到二进制,自动进行解码得到字符,写入字符自动编码成二进制.</p>
<p>Reader有一个子类BufferedReader。子类继承父类显然子类可以重写父类的方法,也可以增加自己的新方法。例如一次读一行就是常用的操作.那么BufferedReader 类就提供了这个方法,可以查看readLine()方法具备一次读取一个文本行的功能。很显然,该子类可以对功能进行增强。</p>
<p>体验BufferedReader</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedReaderDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		BufferedReader br = <span class="keyword">new</span> BufferedReader(fr);</span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = br.readLine()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(line);</span><br><span class="line">		&#125;</span><br><span class="line">		br.close();</span><br><span class="line">		fr.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<p>在使用缓冲区对象时，要明确，缓冲的存在是为了增强流的功能而存在，所以在建立缓冲区对象时，要先有流对象存在.</p>
<p>缓冲区的出现提高了对流的操作效率。原理：其实就是将数组进行封装。</p>
<p>使用字符流缓冲区拷贝文本文件.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedCopy</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		BufferedReader br = <span class="keyword">new</span> BufferedReader(fr);</span><br><span class="line">		BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"c:/users/ZhangXu/Desktop/tempbuffered.txt"</span>));</span><br><span class="line">		</span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = br.readLine()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">			bw.write(line);</span><br><span class="line"><span class="comment">//			bw.flush();</span></span><br><span class="line">			bw.newLine(); <span class="comment">// readLine 不包括换行</span></span><br><span class="line">		&#125;</span><br><span class="line">		bw.close();</span><br><span class="line">		br.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="装饰器模式"><a href="#装饰器模式" class="headerlink" title="装饰器模式"></a>装饰器模式</h1><p>使用BufferedReader读取每一行可以重写readLine方法。那么，既想要显示行号又想要显示引号，前面已有重写显示行号和显示引号的类。</p>
<p>发现,就需要再定义子类,发现这样比较麻烦，代码臃肿，而且代码重复.</p>
<p>可以换一种方式.如下:</p>
<p>其实就是一个新类要对原有类进行功能增强.</p>
<ol>
<li>在增强类中维护一个被增强的父类引用变量</li>
<li>在增强类的构造函数中初始化1中的变量</li>
<li>创建需要增强的方法，在刚方法中调用被被增强类的方法，并加以增强。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//带行号的缓冲输入字符流</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedLineNum2</span>  <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;  </span><br><span class="line">	</span><br><span class="line">	<span class="comment">//在内部维护一个被装饰类的引用。</span></span><br><span class="line">	BufferedReader bufferedReader;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedLineNum2</span><span class="params">(BufferedReader bufferedReader)</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(bufferedReader);<span class="comment">// 注意： 该语句没有任何的作用，只不过是为了让代码不报错。</span></span><br><span class="line">		<span class="keyword">this</span>.bufferedReader = bufferedReader;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		String line = bufferedReader.readLine();</span><br><span class="line">		<span class="keyword">if</span>(line==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = count+<span class="string">" "</span>+line;</span><br><span class="line">		count++;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//带分号缓冲输入字符流</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedSemi2</span> <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;  <span class="comment">//为什么要继承?  是为了让这些装饰类的对象可以作为参数进行传递，达到互相装饰 的效果。</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//在内部维护一个被装饰类的引用。</span></span><br><span class="line">	BufferedReader bufferedReader;</span><br><span class="line">		</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedSemi2</span><span class="params">(BufferedReader bufferedReader)</span></span>&#123; <span class="comment">// new BuffereLineNum();</span></span><br><span class="line">		<span class="keyword">super</span>(bufferedReader);<span class="comment">// 注意： 该语句没有任何的作用，只不过是为了让代码不报错。</span></span><br><span class="line">		<span class="keyword">this</span>.bufferedReader = bufferedReader;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		String line = bufferedReader.readLine();  <span class="comment">//如果这里的ReadLine方法是调用了buffereLineNum的readLine方法，问题马上解决。</span></span><br><span class="line">		<span class="keyword">if</span>(line==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = line +<span class="string">";"</span>;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//缓冲类带双引号</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BufferedQuto2</span> <span class="keyword">extends</span> <span class="title">BufferedReader</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//在内部维护一个被装饰的类</span></span><br><span class="line">	BufferedReader bufferedReader;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">BufferedQuto2</span><span class="params">(BufferedReader bufferedReader)</span></span>&#123;  <span class="comment">//new  BufferedSemi2();</span></span><br><span class="line">		<span class="keyword">super</span>(bufferedReader) ; <span class="comment">//只是为了让代码不报错..</span></span><br><span class="line">		<span class="keyword">this</span>.bufferedReader = bufferedReader;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		String line = bufferedReader.readLine();  <span class="comment">//如果这里的ReadLine方法是调用了buffereLineNum的readLine方法，问题马上解决。</span></span><br><span class="line">		<span class="keyword">if</span>(line==<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		line = <span class="string">"\""</span>+line +<span class="string">"\""</span>;</span><br><span class="line">		<span class="keyword">return</span> line;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		FileReader fileReader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">		<span class="comment">//建立缓冲输入字符流</span></span><br><span class="line">		BufferedReader bufferedReader = <span class="keyword">new</span> BufferedReader(fileReader);</span><br><span class="line">		<span class="comment">//建立带行号的缓冲输入字符流</span></span><br><span class="line">		BufferedLineNum2 bufferedLineNum = <span class="keyword">new</span> BufferedLineNum2(bufferedReader);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//带分号的缓冲输入字符流</span></span><br><span class="line">		BufferedSemi2 bufferedSemi2 = <span class="keyword">new</span> BufferedSemi2(bufferedLineNum);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//带双引号的缓冲输入字符流</span></span><br><span class="line">		BufferedQuto2 bufferedQuto2 = <span class="keyword">new</span>  BufferedQuto2(bufferedSemi2);</span><br><span class="line">		</span><br><span class="line">		String line = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">while</span>((line = bufferedQuto2.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(line);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这就是装饰器模式</p>
<p><strong>装饰器模式：</strong></p>
<p>   使用分层对象来动态透明的向单个对象中添加责任（功能）。</p>
<p>   装饰器指定包装在最初的对象周围的所有对象都具有相同的基本接口。</p>
<p>   某些对象是可装饰的，可以通过将其他类包装在这个可装饰对象的四周，来将功能分层。</p>
<p>   装饰器必须具有和他所装饰的对象相同的接口。</p>
<p><strong>JavaIO中的应用：</strong></p>
<p>   Java I/O类库需要多种不同的功能组合，所以使用了装饰器模式。</p>
<p>   FilterXxx类是JavaIO提供的装饰器基类，即我们要想实现一个新的装饰器，就要继承这些类。</p>
<p><strong>装饰器与继承：</strong></p>
<p>问题：</p>
<p>   修饰模式做的增强功能按照继承的特点也是可以实现的，为什么还要提出修饰设计模式呢？</p>
<p>继承实现的增强类和修饰模式实现的增强类有何区别？</p>
<p><strong>继承实现的增强类：</strong></p>
<p>​      优点：代码结构清晰，而且实现简单</p>
<p>​      缺点：对于每一个的需要增强的类都要创建具体的子类来帮助其增强，这样会导致继承体系过于庞大。</p>
<p><strong>修饰模式实现的增强类：</strong></p>
<p>​      优点：内部可以通过多态技术对多个需要增强的类进行增强</p>
<p>​      缺点：需要内部通过多态技术维护需要增强的类的实例。进而使得代码稍微复杂。</p>
<h1 id="其他流"><a href="#其他流" class="headerlink" title="其他流"></a>其他流</h1><h2 id="序列流-合并流"><a href="#序列流-合并流" class="headerlink" title="序列流(合并流)"></a>序列流(合并流)</h2><h3 id="SequenceInputStream"><a href="#SequenceInputStream" class="headerlink" title="SequenceInputStream"></a>SequenceInputStream</h3><p>序列流，对多个流进行合并。</p>
<p>SequenceInputStream表示其他输入流的逻辑串联。它从输入流的有序集合开始，并从第一个输入流开始读取，直到到达文件末尾，接着从第二个输入流读取，依次类推，直到到达包含的最后一个输入流的文件末尾为止。</p>
<p>注意:boxing_glove:</p>
<p>构造函数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SequenceInputStream(InputStream s1,InputStream s2);</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">SequenceInputStream</span><span class="params">(Enumeration&lt;? extends InputStream&gt; e)</span></span></span><br></pre></td></tr></table></figure>

<p><strong>合并两个流：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writer</span><span class="params">()</span> <span class="keyword">throws</span> IOException, FileNotFoundException </span>&#123;</span><br><span class="line">		File f1 = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		File f2 = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/tempa.txt"</span>);</span><br><span class="line">		File f3 = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/tempSequence.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span>(!f3.exists())&#123;</span><br><span class="line">			f3.createNewFile();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 合并两个流</span></span><br><span class="line">		FileInputStream fis1 = <span class="keyword">new</span> FileInputStream(f1);</span><br><span class="line">		FileInputStream fis2 = <span class="keyword">new</span> FileInputStream(f2);</span><br><span class="line">		SequenceInputStream sis = <span class="keyword">new</span> SequenceInputStream(fis1, fis2);</span><br><span class="line">		BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(sis);</span><br><span class="line">		<span class="comment">// 输出</span></span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(f3);</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((len = bis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">			fos.write(len);</span><br><span class="line">		&#125;</span><br><span class="line">		fos.close();</span><br><span class="line">		bis.close();</span><br><span class="line">		fis1.close();</span><br><span class="line">		fis2.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p><strong>合并多个流：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writerMulti</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		File f0 = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/tempbuffered.txt"</span>);</span><br><span class="line">		File f1 = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">		File f2 = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/tempa.txt"</span>);</span><br><span class="line">		File f3 = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/tempSequence.txt"</span>);</span><br><span class="line">		FileInputStream fis0 = <span class="keyword">new</span> FileInputStream(f0);</span><br><span class="line">		FileInputStream fis1 = <span class="keyword">new</span> FileInputStream(f1);</span><br><span class="line">		FileInputStream fis2 = <span class="keyword">new</span> FileInputStream(f2);</span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(f3);</span><br><span class="line">		LinkedHashSet&lt;InputStream&gt; lhs = <span class="keyword">new</span> LinkedHashSet&lt;InputStream&gt;();</span><br><span class="line">		lhs.add(fis0);</span><br><span class="line">		lhs.add(fis1);</span><br><span class="line">		lhs.add(fis2);</span><br><span class="line">		<span class="comment">// 创建序列流对象</span></span><br><span class="line">		Iterator&lt;InputStream&gt; it = lhs.iterator();</span><br><span class="line">		SequenceInputStream sis = <span class="keyword">new</span> SequenceInputStream(<span class="keyword">new</span> Enumeration&lt;InputStream&gt;() &#123;</span><br><span class="line"></span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasMoreElements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> it.hasNext();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> InputStream <span class="title">nextElement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> it.next();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> len = <span class="number">0</span>;(len = sis.read()) != -<span class="number">1</span>;)&#123;</span><br><span class="line">			fos.write(len);</span><br><span class="line">		&#125;</span><br><span class="line">		fos.close();</span><br><span class="line">		sis.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p><strong>案例:将wmv视频文件进行切割拷贝,并合并.</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">splitWMV</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		<span class="comment">// 将视频拆成三分</span></span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/users/ZhangXu/Desktop/test.wmv"</span>);</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span> * <span class="number">1024</span> * <span class="number">5</span>]; <span class="comment">// 5Mb</span></span><br><span class="line">		<span class="keyword">int</span> len;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; (len = fis.read(buf)) != -<span class="number">1</span>; i++) &#123;</span><br><span class="line">			FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:/users/ZhangXu/Desktop/temp_part"</span> + i + <span class="string">".wmv"</span>);</span><br><span class="line">			fos.write(buf, <span class="number">0</span>, len);</span><br><span class="line">			fos.close();</span><br><span class="line">		&#125;</span><br><span class="line">		fis.close();</span><br><span class="line">	&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeWMV</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		<span class="comment">// 合并成完整视频</span></span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:/users/ZhangXu/Desktop/tempMerge.wmv"</span>);</span><br><span class="line">		LinkedHashSet&lt;InputStream&gt; lhs = <span class="keyword">new</span> LinkedHashSet&lt;InputStream&gt;();</span><br><span class="line">		lhs.add(<span class="keyword">new</span> FileInputStream(<span class="string">"C:\\Users\\ZhangXu\\Desktop\\temp_part1.wmv"</span>));</span><br><span class="line">		lhs.add(<span class="keyword">new</span> FileInputStream(<span class="string">"C:\\Users\\ZhangXu\\Desktop\\temp_part2.wmv"</span>));</span><br><span class="line">		lhs.add(<span class="keyword">new</span> FileInputStream(<span class="string">"C:\\Users\\ZhangXu\\Desktop\\temp_part3.wmv"</span>));</span><br><span class="line">		lhs.add(<span class="keyword">new</span> FileInputStream(<span class="string">"C:\\Users\\ZhangXu\\Desktop\\temp_part4.wmv"</span>));</span><br><span class="line">		lhs.add(<span class="keyword">new</span> FileInputStream(<span class="string">"C:\\Users\\ZhangXu\\Desktop\\temp_part5.wmv"</span>));</span><br><span class="line">		Iterator&lt;InputStream&gt; it = lhs.iterator();</span><br><span class="line">		SequenceInputStream sis = <span class="keyword">new</span> SequenceInputStream(<span class="keyword">new</span> Enumeration&lt;InputStream&gt;()&#123;</span><br><span class="line"></span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasMoreElements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> it.hasNext();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> InputStream <span class="title">nextElement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> it.next();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;);		</span><br><span class="line">		BufferedInputStream bs = <span class="keyword">new</span> BufferedInputStream(sis);</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">5</span>];</span><br><span class="line">		<span class="keyword">int</span> len;</span><br><span class="line">		<span class="keyword">while</span>((len = bs.read(buf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">			fos.write(buf,<span class="number">0</span>,len);</span><br><span class="line">		&#125;</span><br><span class="line">		bs.close();</span><br><span class="line">		sis.close();</span><br><span class="line">		fos.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="对象的序列化"><a href="#对象的序列化" class="headerlink" title="对象的序列化"></a>对象的序列化</h2><p>当创建对象时,程序运行时它就会存在,但是程序停止时,对象也就消失了.但是如果希望对象在程序不运行的情况下仍能存在并保存其信息，将会非常有用，对象将被重建并且拥有与程序上次运行时拥有的信息相同。可以使用对象的序列化。</p>
<p> 对象的序列化：  将内存中的对象直接写入到文件设备中</p>
<p> 对象的反序列化： 将文件设备中持久化的数据转换为内存对象</p>
<p>基本的序列化由两个方法产生：一个方法用于序列化对象并将它们写入一个流，另一个方法用于读取流并反序列化对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">对象的输入输出流 : 对象的输入输出流 主要的作用是用于写对象的信息与读取对象的信息。 对象信息一旦写到文件上那么对象的信息就可以做到持久化了</span><br><span class="line"> </span><br><span class="line">对象的输出流： ObjectOutputStream </span><br><span class="line"> </span><br><span class="line">对象的输入流: ObjectInputStream </span><br><span class="line"> </span><br><span class="line"> 对象输入输出流要注意的细节：</span><br><span class="line"> 	<span class="number">1</span>. 如果对象需要被写出到文件上，那么对象所属的类必须要实现Serializable接口。 Serializable接口没有任何的方法，是一个标识接口而已。</span><br><span class="line"> 	<span class="number">2</span>. 对象的反序列化创建对象的时候并不会调用到构造方法的、</span><br><span class="line"> 	<span class="number">3</span>. serialVersionUID 是用于记录<span class="class"><span class="keyword">class</span>文件的版本信息的，<span class="title">serialVersionUID</span>这个数字是通过一个类的类名、成员、包名、工程名算出的一个数字。</span></span><br><span class="line"><span class="class"> 	4. 使用<span class="title">ObjectInputStream</span>反序列化的时候，<span class="title">ObjectInputStream</span>会先读取文件中的<span class="title">serialVersionUID</span>，然后与本地的<span class="title">class</span>文件的<span class="title">serialVersionUID</span></span></span><br><span class="line"><span class="class"> 	进行对比，如果这两个<span class="title">id</span>不一致，那么反序列化就失败了。</span></span><br><span class="line"><span class="class"> 	5. 如果序列化与反序列化的时候可能会修改类的成员，那么最好一开始就给这个类指定一个<span class="title">serialVersionUID</span>，如果一类已经指定的<span class="title">serialVersionUID</span>，然后</span></span><br><span class="line"><span class="class"> 	在序列化与反序列化的时候，<span class="title">jvm</span>都不会再自己算这个 <span class="title">class</span>的<span class="title">serialVersionUID</span>了。</span></span><br><span class="line"><span class="class"> 	6. 如果一个对象某个数据不想被序列化到硬盘上，可以使用关键字<span class="title">transient</span>修饰。</span></span><br><span class="line"><span class="class"> 	7. 如果一个类维护了另外一个类的引用，那么另外一个类也需要实现<span class="title">Serializable</span>接口。</span></span><br><span class="line"><span class="class"><span class="title">serialVersionUID</span> 	</span></span><br><span class="line"><span class="class">用于给类指定一个<span class="title">UID</span>。该<span class="title">UID</span>是通过类中的可序列化成员的数字签名运算出来的一个<span class="title">long</span>型的值。</span></span><br><span class="line"><span class="class">只要是这些成员没有变化，那么该值每次运算都一样。</span></span><br><span class="line"><span class="class">该值用于判断被序列化的对象和类文件是否兼容。</span></span><br><span class="line"><span class="class">如果被序列化的对象需要被不同的类版本所兼容。可以在类中自定义<span class="title">UID</span>。</span></span><br><span class="line"><span class="class">定义方式：<span class="title">static</span> <span class="title">final</span> <span class="title">long</span> <span class="title">serialVersionUID</span> </span>= <span class="number">42L</span>;</span><br></pre></td></tr></table></figure>

<p><strong>实例：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String pwd;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, String pwd)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.pwd = pwd;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getPwd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> pwd;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPwd</span><span class="params">(String pwd)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.pwd = pwd;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Person [name="</span> + name + <span class="string">", pwd="</span> + pwd + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectIn_OutputStreamDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">// 将对象写入硬盘,序列化</span></span><br><span class="line">		ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"Person.msg"</span>));</span><br><span class="line">		oos.writeObject(<span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="string">"456789"</span>));</span><br><span class="line">		oos.writeObject(<span class="keyword">new</span> Person(<span class="string">"lisi"</span>, <span class="string">"lisislis"</span>));</span><br><span class="line">		oos.close();</span><br><span class="line">		<span class="comment">// 读数据，反序列化</span></span><br><span class="line">		ObjectInputStream iis = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"Person.msg"</span>));</span><br><span class="line">		Object obj = <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">//		obj = iis.readObject();</span></span><br><span class="line">		<span class="keyword">while</span>((obj = iis.readObject()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println((Person)obj);</span><br><span class="line">		&#125;<span class="comment">// 文件结束的时候报错，可以catch捕获EOFException,break就行了。</span></span><br><span class="line">		iis.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">结果：</span><br><span class="line">Person [name=zhangsan, pwd=<span class="number">456789</span>]</span><br><span class="line">Person [name=lisi, pwd=lisislis]</span><br><span class="line"><span class="comment">// 当给密码属性加上transient修饰时</span></span><br><span class="line">Person [name=zhangsan, pwd=<span class="keyword">null</span>]</span><br><span class="line">Person [name=lisi, pwd=<span class="keyword">null</span>]</span><br></pre></td></tr></table></figure>

<h2 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h2><p><strong>可以和流相关联的集合对象Properties</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Map</span><br><span class="line">|--Hashtable</span><br><span class="line">|--Properties</span><br><span class="line">Properties:该集合不需要泛型，因为该集合中的键值对都是String类型。</span><br><span class="line"><span class="number">1</span>，存入键值对：setProperty(key,value);</span><br><span class="line"><span class="number">2</span>，获取指定键对应的值：<span class="function">value <span class="title">getProperty</span><span class="params">(key)</span></span>;</span><br><span class="line"><span class="number">3</span>，获取集合中所有键元素：</span><br><span class="line">	<span class="function">Enumeration  <span class="title">propertyNames</span><span class="params">()</span></span>;</span><br><span class="line">	在jdk1<span class="number">.6</span>版本给该类提供一个新的方法。</span><br><span class="line">	<span class="function">Set&lt;String&gt; <span class="title">stringPropertyNames</span><span class="params">()</span></span>;</span><br><span class="line"><span class="number">4</span>，列出该集合中的所有键值对，可以通过参数打印流指定列出到的目的地。</span><br><span class="line">	list(PrintStream);</span><br><span class="line">	list(PrintWriter);</span><br><span class="line">	例：list(System.out):将集合中的键值对打印到控制台。</span><br><span class="line">	list(<span class="keyword">new</span> PrintStream(<span class="string">"prop.txt"</span>)):将集合中的键值对存储到prop.txt文件中。</span><br><span class="line"><span class="number">5</span>，可以将流中的规则数据加载进行集合，并称为键值对。</span><br><span class="line">	load(InputStream):</span><br><span class="line">	jdk1<span class="number">.6</span>版本。提供了新的方法。</span><br><span class="line">	load(Reader):</span><br><span class="line">	注意：流中的数据要是<span class="string">"键=值"</span> 的规则数据。</span><br><span class="line"><span class="number">6</span>，可以将集合中的数据进行指定目的地存储。</span><br><span class="line">	store(OutputStram,String comment)方法。</span><br><span class="line">    jdk1<span class="number">.6</span>版本。提供了新的方法。</span><br><span class="line">    store(Writer ,String comment):</span><br><span class="line">    使用该方法存储时，会带着当时存储的时间。</span><br><span class="line">注意：</span><br><span class="line">Properties只加载key=value这样的键值对，与文件名无关，注释使用#</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sysPropList</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		Properties prop = System.getProperties();  <span class="comment">// 获取jvm的配置属性信息</span></span><br><span class="line"></span><br><span class="line">		prop.list(System.out);<span class="comment">// 目的是控制台。</span></span><br><span class="line">		<span class="comment">// 需求是：将jvm的属性信息存储到一个文件中。</span></span><br><span class="line">		<span class="comment">// prop.list(new PrintStream("java.txt"));</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sysProp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Properties prop = System.getProperties();</span><br><span class="line"></span><br><span class="line">		Set&lt;String&gt; keys = prop.stringPropertyNames();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (String key : keys) &#123;</span><br><span class="line">			System.out.println(key + <span class="string">":"</span> + prop.getProperty(key));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Properties类与配置文件</strong></p>
<p>注意：是一个Map集合，该集合中的键值对都是字符串。该集合通常用于对键值对形式的配置文件进行操作.</p>
<p>配置文件：将软件中可变的部分数据可以定义到一个文件中，方便以后更改，该文件称之为配置文件。</p>
<p>优势: 提高代码的维护性。</p>
<p>Properties:  该类是一个Map的子类，提供了可以快速操作配置文件的方法</p>
<p>load()  :    将文件设备数据装载为Map集合数据</p>
<p>get(key):    获取Map中的数据</p>
<p>getProperty()获取Map中的数据特有方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Properties p = <span class="keyword">new</span> Properties();</span><br><span class="line">		p.load(<span class="keyword">new</span> FileInputStream(<span class="string">"./src/文件操作/properties.txt"</span>));</span><br><span class="line">		p.setProperty(<span class="string">"age"</span>, <span class="string">"22"</span>); <span class="comment">//文件中没有,需要保存的话，store方法</span></span><br><span class="line">		<span class="comment">// 遍历文件</span></span><br><span class="line">		Set&lt;Map.Entry&lt;Object,Object&gt;&gt; entrySet = p.entrySet();</span><br><span class="line">		Iterator&lt;Entry&lt;Object, Object&gt;&gt; it = entrySet.iterator();</span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">			Entry&lt;Object, Object&gt; entry = it.next();</span><br><span class="line">			System.out.println(entry.getKey()+<span class="string">" "</span>+entry.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 将集合中的数据写入配置文件中，并附加注释内容</span></span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"./src/文件操作/properties.txt"</span>);</span><br><span class="line">		p.store(fos, <span class="string">"附加信息"</span>);</span><br></pre></td></tr></table></figure>

<p><strong>获取记录程序运行次数：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">		Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"c:\\count.ini"</span>);</span><br><span class="line">		FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">			file.createNewFile();</span><br><span class="line">		&#125;</span><br><span class="line">		fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		pro.load(fis);</span><br><span class="line">		String str = pro.getProperty(<span class="string">"count"</span>);</span><br><span class="line">		<span class="keyword">if</span> (str != <span class="keyword">null</span>) &#123;</span><br><span class="line">			count = Integer.parseInt(str);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (count == <span class="number">3</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"使用次数已到，请付费"</span>);</span><br><span class="line">			System.exit(<span class="number">0</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		count++;</span><br><span class="line">		System.out.println(<span class="string">"欢迎使用本软件"</span> + <span class="string">"你已经使用了："</span> + count + <span class="string">" 次"</span>);</span><br><span class="line"></span><br><span class="line">		pro.setProperty(<span class="string">"count"</span>, count + <span class="string">""</span>);</span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(<span class="string">"c:\\count.ini"</span>));</span><br><span class="line">		pro.store(fos, <span class="string">"请保护知识产权"</span>);</span><br><span class="line">		fis.close();</span><br><span class="line">		fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h2><p>PrintStream可以接受文件和其他字节输出流，所以打印流是对普通字节输出流的增强，其中定义了很多的重载的print()和println()，方便输出各种类型的数据。</p>
<p><strong><code>PrintStream</code> 打印的所有字符都使用平台的默认字符编码转换为字节。在需要写入字符而不是写入字节的情况下，应该使用 <code>PrintWriter</code> 类。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//		PrintStream ps = new PrintStream("c:/users/ZhangXu/Desktop/temp.txt","gbk");// 可以</span></span><br><span class="line">PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>,<span class="string">"utf-8"</span>);<span class="comment">//乱码，写入的时候编码是系统默认编码，文件保存是按utf-8解码的。</span></span><br><span class="line">		ps.println(<span class="string">"hello你好"</span>);</span><br><span class="line">		ps.close();</span><br></pre></td></tr></table></figure>

<h3 id="PrintStream"><a href="#PrintStream" class="headerlink" title="PrintStream"></a>PrintStream</h3><p>打印流：PrintStream：是一个字节打印流，System.out对应的类型就是PrintStream。它的构造函数可以接收三种数据类型的值。</p>
<p>1，字符串路径。2，File对象。3，OutputStream。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">		PrintStream p = System.out;</span><br><span class="line">		p.println(<span class="string">"hello"</span>);</span><br><span class="line">		p.printf(<span class="string">"%d %s\n"</span>,<span class="number">2</span>,<span class="string">"hello"</span>);</span><br><span class="line">		PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">	System.setOut(ps); <span class="comment">// 重新分配标准输出流，不打印在控制台上，以后的printStream都打印在此文件中。</span></span><br><span class="line">		ps.append(<span class="string">"ccc"</span>);</span><br><span class="line">		System.out.println(<span class="string">"hello world"</span>);</span><br><span class="line"><span class="comment">// write(不可以是字符串)</span></span><br></pre></td></tr></table></figure>

<h3 id="PrintWriter"><a href="#PrintWriter" class="headerlink" title="PrintWriter"></a>PrintWriter</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">是一个字符打印流。构造函数可以接收四种类型的值。</span><br><span class="line"><span class="number">1</span>，字符串路径。</span><br><span class="line"><span class="number">2</span>，File对象。</span><br><span class="line">对于<span class="number">1</span>，<span class="number">2</span>类型的数据，还可以指定编码表。也就是字符集。</span><br><span class="line"><span class="number">3</span>，OutputStream</span><br><span class="line"><span class="number">4</span>，Writer</span><br><span class="line">    对于<span class="number">3</span>，<span class="number">4</span>类型的数据，可以指定自动刷新。</span><br><span class="line">    注意：该自动刷新值为<span class="keyword">true</span>时，只有三个方法可以用：println,printf,format.</span><br><span class="line">    如果想要既有自动刷新，又可执行编码。如何完成流对象的包装？</span><br><span class="line">PrintWrter pw = </span><br><span class="line"><span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> OutputSteamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">"a.txt"</span>),<span class="string">"utf-8"</span>),<span class="keyword">true</span>);</span><br><span class="line">如果想要提高效率。还要使用打印方法。</span><br><span class="line">PrintWrter pw = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span>  BufferdWriter(<span class="keyword">new</span> OutputSteamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">"a.txt"</span>),<span class="string">"utf-8"</span>)),<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter pw = <span class="keyword">new</span> PrintWriter(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>,<span class="string">"gbk"</span>);</span><br><span class="line">pw.println(<span class="string">"hfhaks"</span>);</span><br><span class="line">pw.append(<span class="string">"hfa"</span>);</span><br><span class="line">pw.println();</span><br><span class="line">pw.println(<span class="string">'c'</span>);</span><br><span class="line">pw.flush();</span><br><span class="line">pw.close();</span><br></pre></td></tr></table></figure>

<h2 id="操作数组的流对象"><a href="#操作数组的流对象" class="headerlink" title="操作数组的流对象"></a>操作数组的流对象</h2><h3 id="操作字节数组"><a href="#操作字节数组" class="headerlink" title="操作字节数组"></a>操作字节数组</h3><p>ByteArrayInputStream、ByteArrayOutputStream</p>
<p>Arrays.toByteArray();</p>
<p>Arrays.toString();</p>
<p>writeTo(OutputStream);将此 byte 数组输出流的全部内容写入到指定的输出流参数中，这与使用 out.write(buf, 0, count) </p>
<p>调用该输出流的 write 方法效果一样。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testByteArrayInputStream</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		InputStream in = <span class="keyword">new</span> ByteArrayInputStream(<span class="keyword">new</span> <span class="keyword">byte</span>[] &#123; <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span> &#125;);</span><br><span class="line">		ByteArrayOutputStream out = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> b = -<span class="number">1</span>; (b = in.read()) != -<span class="number">1</span>;) &#123;</span><br><span class="line">			out.write(b);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		in.close();</span><br><span class="line">		out.close();</span><br><span class="line"></span><br><span class="line">		System.out.println(Arrays.toString(out.toByteArray()));</span><br><span class="line">		System.out.println(out);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h3 id="操作字符数组"><a href="#操作字符数组" class="headerlink" title="操作字符数组"></a>操作字符数组</h3><p>CharArrayReader</p>
<p>CharArrayWriter</p>
<p>对于这些流，源是内存。目的也是内存。</p>
<p>而且这些流并未调用系统资源。使用的就是内存中的数组。</p>
<p>所以这些在使用的时候不需要close。</p>
<p>操作数组的读取流在构造时，必须要明确一个数据源。所以要传入相对应的数组。</p>
<p>对于操作数组的写入流，在构造函数可以使用空参数。因为它内置了一个可变长度数组作为缓冲区。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testCharArrayReader</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		CharArrayReader reader = <span class="keyword">new</span> CharArrayReader(<span class="keyword">new</span> <span class="keyword">char</span>[] &#123; <span class="string">'A'</span>, <span class="string">'b'</span>, <span class="string">'c'</span> &#125;);</span><br><span class="line">		CharArrayWriter writer = <span class="keyword">new</span> CharArrayWriter();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> b = -<span class="number">1</span>; (b = reader.read()) != -<span class="number">1</span>;) &#123;</span><br><span class="line">			writer.write(b);</span><br><span class="line">		&#125;</span><br><span class="line">		reader.close();</span><br><span class="line">		writer.close();</span><br><span class="line"></span><br><span class="line">		System.out.println(writer.toCharArray());</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>类似原理的还有StringReader、StringWriter.</p>
<h2 id="操作基本数据类型的流对象"><a href="#操作基本数据类型的流对象" class="headerlink" title="操作基本数据类型的流对象"></a>操作基本数据类型的流对象</h2><p>DataInputStream、DataOutputStream,DataInputStream类继承FilterInputStream类，并实现了DataInput接口。DataOutputStream类继承FilterOutputStream 并实现了DataOutput 接口。</p>
<p>从底层输入流中读取基本 Java 数据类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">DataInputStream</span><br><span class="line">操作基本数据类型的方法：</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">readInt</span><span class="params">()</span>:一次读取四个字节，并将其转成<span class="keyword">int</span>值。</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">readBoolean</span><span class="params">()</span>:一次读取一个字节。</span></span><br><span class="line"><span class="function"><span class="keyword">short</span> <span class="title">readShort</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">readLong</span><span class="params">()</span></span>;</span><br><span class="line">剩下的数据类型一样。</span><br><span class="line"><span class="function">String <span class="title">readUTF</span><span class="params">()</span>:按照utf-8修改版读取字符。注意，它只能读<span class="title">writeUTF</span><span class="params">()</span>写入的字符数据。</span></span><br><span class="line"><span class="function">DataOutputStream</span></span><br><span class="line"><span class="function"><span class="title">DataOutputStream</span><span class="params">(OutputStream)</span>:</span></span><br><span class="line"><span class="function">操作基本数据类型的方法:</span></span><br><span class="line"><span class="function"><span class="title">writeInt</span><span class="params">(<span class="keyword">int</span>)</span>：一次写入四个字节。</span></span><br><span class="line"><span class="function">注意和<span class="title">write</span><span class="params">(<span class="keyword">int</span>)</span>不同。<span class="title">write</span><span class="params">(<span class="keyword">int</span>)</span>只将该整数的最低一个8位写入。剩余三个8位丢弃。</span></span><br><span class="line"><span class="function"><span class="title">writeBoolean</span><span class="params">(<span class="keyword">boolean</span>)</span></span>;</span><br><span class="line">writeShort(<span class="keyword">short</span>);</span><br><span class="line">writeLong(<span class="keyword">long</span>);</span><br><span class="line">剩下是数据类型也也一样。</span><br><span class="line">writeUTF(String):按照utf-<span class="number">8</span>修改版将字符数据进行存储。只能通过readUTF读取。</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testDataInputStream</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		DataOutputStream out = <span class="keyword">new</span> DataOutputStream(<span class="keyword">new</span> FileOutputStream(</span><br><span class="line">				<span class="string">"c:/a.txt"</span>));</span><br><span class="line"></span><br><span class="line">		out.writeBoolean(<span class="keyword">true</span>);</span><br><span class="line">		out.writeByte(<span class="number">15</span>); <span class="comment">// 0x05 1 个字节</span></span><br><span class="line">		out.writeBytes(<span class="string">"abc"</span>); <span class="comment">// 0x 0041 2个字节</span></span><br><span class="line">		out.writeChar(<span class="string">'X'</span>); <span class="comment">// ??</span></span><br><span class="line">		out.writeChars(<span class="string">"xyz"</span>);</span><br><span class="line">		out.writeLong(<span class="number">111</span>);</span><br><span class="line">		out.writeUTF(<span class="string">"中国"</span>);</span><br><span class="line"></span><br><span class="line">		out.close();</span><br><span class="line"></span><br><span class="line">		DataInputStream in = <span class="keyword">new</span> DataInputStream(</span><br><span class="line">				<span class="keyword">new</span> FileInputStream(<span class="string">"c:/a.txt"</span>));</span><br><span class="line">		System.out.println(in.readBoolean());</span><br><span class="line">		System.out.println(in.readByte());</span><br><span class="line">		</span><br><span class="line">		System.out.println(in.readByte());</span><br><span class="line">		System.out.println(in.readByte());</span><br><span class="line">		System.out.println(in.readByte());</span><br><span class="line">		</span><br><span class="line">		System.out.println(in.readChar());</span><br><span class="line">		</span><br><span class="line">		System.out.println(in.readChar());</span><br><span class="line">		System.out.println(in.readChar());</span><br><span class="line">		System.out.println(in.readChar());</span><br><span class="line">		</span><br><span class="line">		System.out.println(in.readLong());</span><br><span class="line">		</span><br><span class="line">		System.out.println(in.readUTF());</span><br><span class="line">		in.close();</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">//true 15 97 98 99 X x y z 111 中国</span></span><br></pre></td></tr></table></figure>

<h1 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">什么是编码？</span><br><span class="line">	计算机中存储的都是二进制，但是要显示的时候，就是我们看到的却可以有中国 ，a  <span class="number">1</span> 等字符</span><br><span class="line">计算机中是没有存储字符的，但是我们却看到了。计算机在存储这些信息的时候，根据一个有规则的编号，当用户输入a 有a对映的编号，就将这个编号存进计算机中这就是编码。</span><br><span class="line"></span><br><span class="line">计算机只能识别二进制数据。</span><br><span class="line">为了方便应用计算机，让它可以识别各个国家的文字。就将各个国家的文字用数字来表示，并一一对应，形成一张表，这就是编码表。</span><br><span class="line">例如：汉字 中  </span><br><span class="line">有一种编码：</span><br><span class="line">中字在utf <span class="number">8</span>中对映的编码</span><br><span class="line">utf-<span class="number">8</span>  --&gt;<span class="number">100</span>  </span><br><span class="line">在gbk中呢？有可能就不是<span class="number">100</span>了</span><br><span class="line">gbk    --&gt;  <span class="number">150</span></span><br><span class="line">很显然同一个信息在不同的编码中对映的数字也不同，</span><br><span class="line">不同的国家和地区使用的码表是不同的，</span><br><span class="line">gbk 是中国大陆</span><br><span class="line">bjg5 是台湾同胞中的繁体字。所以如果给big5一个简体字是不认识的。</span><br><span class="line">还有ASCII 美国标准信息交换码</span><br></pre></td></tr></table></figure>

<h2 id="码表"><a href="#码表" class="headerlink" title="码表"></a>码表</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">常见的码表如下：</span><br><span class="line">ASCII：		美国标准信息交换码。用一个字节的<span class="number">7</span>位可以表示。</span><br><span class="line">ISO8859-<span class="number">1</span>：	拉丁码表。欧洲码表，用一个字节的<span class="number">8</span>位表示。又称Latin-<span class="number">1</span>(拉丁编码)或“西欧语言”。ASCII码是包含的仅仅是英文字母，并且没有完全占满<span class="number">256</span>个编码位置，所以它以ASCII为基础，在空置的<span class="number">0xA0</span>-<span class="number">0xFF</span>的范围内，加入<span class="number">192</span>个字母及符号，</span><br><span class="line">藉以供使用变音符号的拉丁字母语言使用。从而支持德文，法文等。因而它依然是一个单字节编码，只是比ASCII更全面。</span><br><span class="line">GB2312：	中国的中文编码表。</span><br><span class="line">GBK：		中国的中文编码表升级，融合了更多的中文文字符号。</span><br><span class="line">Unicode：  国际标准码，融合了多种文字。所有文字都用两个字节来表示，Java语言使用的就是unicode。</span><br><span class="line">UTF-<span class="number">8</span>：		最多用三个字节来表示一个字符。</span><br><span class="line">（我们以后接触最多的是iso8859-<span class="number">1</span>、gbk、utf-<span class="number">8</span>）</span><br><span class="line">	</span><br><span class="line">查看上述码表后，很显然中文的‘中’在iso8859-<span class="number">1</span>中是没有对映的编码的。或者一个字符在<span class="number">2</span>中码表中对应的编码不同，例如有一些字在不同的编码中是有交集的，例如bjg5 和gbk 中的汉字简体和繁体可能是一样的，就是有交集，但是在各自码表中的数字不一样。</span><br><span class="line">例如 </span><br><span class="line">使用gbk 将中文保存在计算机中，</span><br><span class="line">	中  国</span><br><span class="line">对映  <span class="number">100</span>  <span class="number">200</span>   如果使用big5 打开</span><br><span class="line">可能   ？  ...   </span><br><span class="line">不同的编码对映的是不一样的。</span><br><span class="line">很显然，我们使用什么样的编码写数据，就需要使用什么样的编码来对数据。</span><br><span class="line">ISO8859-<span class="number">1</span>：一个字节</span><br><span class="line">GBK： 两个字节包含了英文字符和扩展的中文 	ISO8859-<span class="number">1</span>+中文字符</span><br><span class="line">UTF-<span class="number">8</span> 万国码，推行的。是<span class="number">1</span>~<span class="number">3</span>个字节不等长。英文存的是<span class="number">1</span>个字节，中文存的是<span class="number">3</span>个字节，是为了节省空间。</span><br></pre></td></tr></table></figure>

<h2 id="编码与解码"><a href="#编码与解码" class="headerlink" title="编码与解码"></a>编码与解码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">编码：</span><br><span class="line">字符串---》字节数组</span><br><span class="line">String类的getBytes() 方法进行编码，将字符串，转为对映的二进制，并且这个方法可以指定编码表。如果没有指定码表，该方法会使用操作系统默认码表。</span><br><span class="line">注意：中国大陆的Windows系统上默认的编码一般为GBK。在Java程序中可以使用System.getProperty(<span class="string">"file.encoding"</span>)方式得到当前的默认编码。</span><br><span class="line"></span><br><span class="line">字节数组---》字符串</span><br><span class="line">String类的构造函数完成。</span><br><span class="line">String(<span class="keyword">byte</span>[] bytes)  使用系统默认码表</span><br><span class="line">String(<span class="keyword">byte</span>[],charset)指定码表</span><br><span class="line">注意：我们使用什么字符集（码表）进行编码，就应该使用什么字符集进行解码，否则很有可能出现乱码（兼容字符集不会）。</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">"中"</span>;</span><br><span class="line"><span class="comment">// 编码操作</span></span><br><span class="line"><span class="keyword">byte</span>[] bytes = str.getBytes();</span><br><span class="line"><span class="keyword">byte</span>[] bytes2 = str.getBytes(<span class="string">"gbk"</span>);<span class="comment">// d6d0</span></span><br><span class="line"><span class="keyword">byte</span>[] bytes3 = str.getBytes(<span class="string">"utf-8"</span>);<span class="comment">// e4b8ad</span></span><br><span class="line"></span><br><span class="line">System.out.println(Arrays.toString(bytes)); <span class="comment">// [-42, -48]</span></span><br><span class="line">System.out.println(Arrays.toString(bytes2));<span class="comment">// [-42, -48]</span></span><br><span class="line">System.out.println(Arrays.toString(bytes3));<span class="comment">// [-28, -72, -83]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解码操作</span></span><br><span class="line"><span class="comment">// 编码gbk,解码utf-8乱码。</span></span><br><span class="line">String str2 = <span class="keyword">new</span> String(bytes2, <span class="string">"utf-8"</span>);</span><br><span class="line">System.out.println(str2);  <span class="comment">//??</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 编码utf-8 解码gbk，乱码</span></span><br><span class="line">str2 = <span class="keyword">new</span> String(bytes3, <span class="string">"gbk"</span>);</span><br><span class="line">System.out.println(str2); <span class="comment">// 涓?</span></span><br><span class="line"><span class="comment">// gbk兼容gb2312所以，没有问题。</span></span><br><span class="line">str = <span class="keyword">new</span> String(<span class="string">"中国"</span>.getBytes(<span class="string">"gb2312"</span>), <span class="string">"gbk"</span>);</span><br><span class="line">System.out.println(str); <span class="comment">// 中国</span></span><br></pre></td></tr></table></figure>

<h2 id="字节流读取中文"><a href="#字节流读取中文" class="headerlink" title="字节流读取中文"></a>字节流读取中文</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/a.txt"</span>);</span><br><span class="line"><span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((len = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> String(buf,<span class="number">0</span>,len,<span class="string">"gbk"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字节流写入中文"><a href="#字节流写入中文" class="headerlink" title="字节流写入中文"></a>字节流写入中文</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestIo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">		String path = <span class="string">"c:\\test.txt"</span>;</span><br><span class="line">		writeFileByOutputStream(path, <span class="string">"世界你好"</span>);</span><br><span class="line">		readFileByInputStream(path);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeFileByOutputStream</span><span class="params">(String path, String content)</span></span></span><br><span class="line"><span class="function">			<span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(path);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 把字符串进行编码操作</span></span><br><span class="line">		<span class="keyword">byte</span>[] bytes = content.getBytes(<span class="string">"utf-8"</span>);</span><br><span class="line">		<span class="comment">// 内容通过字节流写入到文件中。</span></span><br><span class="line">		fos.write(bytes);</span><br><span class="line">		fos.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readFileByInputStream</span><span class="params">(String path)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(path);</span><br><span class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span> ((len = fis.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="comment">// 二进制解码，使用系统默认编码</span></span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(buffer, <span class="number">0</span>, len,<span class="string">"utf-8"</span>));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在明白了字节流也可以正确的处理中文字符之后，就应该明白字符流其实就是字节流在加上系统默认的码表。自动进行了编码和解码的操作。底层还是使用字节流读取文件。通过转换流的学习就可以明白这些道理。</p>
<h2 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h2><h3 id="InputStreamReader"><a href="#InputStreamReader" class="headerlink" title="InputStreamReader"></a>InputStreamReader</h3><p>查看API文档，发现是字节流通向字符流的桥梁。查看构造，可以传递字节流，可以指定编码，该流可以实现什么功能？很显然可以包装我们的字节流，自动的完成节流编码和解码的工作。该流是一个Reader的子类，是字符流的体系。所以将转换流称之为字节流和字符流之间的桥梁。</p>
<p>输入字节流的转换流：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStreamReader	是字节流通向字符流的桥</span><br></pre></td></tr></table></figure>
<p>输出字节流的转换流：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OutputStreamWriter   可以把输出字节流转换成输出字符流 。</span><br></pre></td></tr></table></figure>
<p>转换流的作用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. 如果目前所获取到的是一个字节流需要转换字符流使用，这时候就可以使用转换流。  字节流----&gt; 字符流</span><br><span class="line">  	<span class="number">2</span>. 使用转换流可以指定编码表进行读写文件。</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 读  字节流向字符 InputStreamReader</span></span><br><span class="line">	File file = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/temp.txt"</span>);</span><br><span class="line">	File file2 = <span class="keyword">new</span> File(<span class="string">"c:/users/ZhangXu/Desktop/t.txt"</span>);</span><br><span class="line">	</span><br><span class="line">	InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(file), <span class="string">"utf-8"</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span>[] buf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">	<span class="keyword">int</span> len;</span><br><span class="line">	<span class="keyword">while</span>((len = isr.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">		System.out.println(buf);</span><br><span class="line">	&#125;</span><br><span class="line">	isr.close();</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 写 字符流向字节 OutputStreamWriter	</span></span><br><span class="line">	<span class="keyword">char</span>[] charArray = <span class="string">"北京欢迎你"</span>.toCharArray();</span><br><span class="line">	OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(file2), <span class="string">"utf-8"</span>);</span><br><span class="line">	osw.write(charArray);</span><br><span class="line">	osw.close();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">操作文件的字符流对象是转换流的子类。</span><br><span class="line">Reader</span><br><span class="line">|--InputStreamReader</span><br><span class="line">|--FileReader</span><br><span class="line">Writer </span><br><span class="line">|--OutputStreamWriter</span><br><span class="line">|--FileWriter</span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">在使用FileReader操作文本数据时，该对象使用的是默认的编码表。</span><br><span class="line">如果要使用指定编码表时，必须使用转换流。</span><br><span class="line"></span><br><span class="line">如果系统默认编码是GBK的：</span><br><span class="line">FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);<span class="comment">//操作a.txt的中的数据使用的本系统默认的GBK。</span></span><br><span class="line">操作a.txt中的数据使用的也是本系统默认的GBK。</span><br><span class="line">InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>));</span><br><span class="line">这两句的代码的意义相同。</span><br><span class="line">但是,如果a.txt中的文件中的字符数据是通过utf-<span class="number">8</span>的形式编码。使用FileReader就无能为力，那么在读取时，就必须指定编码表。那么转换流必须使用。</span><br><span class="line">InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>),<span class="string">"utf-8"</span>);</span><br></pre></td></tr></table></figure>


    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>zxucooly
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://zxucooly.github.io/2017/12/03/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/6-Java_%E6%96%87%E4%BB%B6_%E6%B5%81%E5%AF%B9%E8%B1%A1/" title="java基础知识-文件">https://zxucooly.github.io/2017/12/03/Java基础知识/6-Java_文件_流对象/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="tag"><i class="fa fa-tag"></i> java基础知识</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017/12/02/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/5-Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86_%E9%9B%86%E5%90%88_%E6%B3%9B%E5%9E%8B/" rel="prev" title="java基础知识-集合">
      <i class="fa fa-chevron-left"></i> java基础知识-集合
    </a></div>
      <div class="post-nav-item">
    <a href="/2017/12/04/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/7-Java_%E6%AD%A3%E5%88%99_%E6%9E%9A%E4%B8%BE_jdk1.5%E7%89%B9%E6%80%A7/" rel="next" title="java基础知识-正则-枚举">
      java基础知识-正则-枚举 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#简要"><span class="nav-number">1.</span> <span class="nav-text">简要</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#File对象"><span class="nav-number">2.</span> <span class="nav-text">File对象</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#File类中常用的方法"><span class="nav-number">3.</span> <span class="nav-text">File类中常用的方法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IO流"><span class="nav-number">4.</span> <span class="nav-text">IO流</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字节流"><span class="nav-number">5.</span> <span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#InputStream"><span class="nav-number">5.1.</span> <span class="nav-text">InputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#读取方式一"><span class="nav-number">5.1.1.</span> <span class="nav-text">读取方式一</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#读取方式二"><span class="nav-number">5.1.2.</span> <span class="nav-text">读取方式二</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#读取方式三"><span class="nav-number">5.1.3.</span> <span class="nav-text">读取方式三</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#读取方式四"><span class="nav-number">5.1.4.</span> <span class="nav-text">读取方式四</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OutputStream"><span class="nav-number">5.2.</span> <span class="nav-text">OutputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#写入数据"><span class="nav-number">5.2.1.</span> <span class="nav-text">写入数据</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#拷贝文件"><span class="nav-number">5.3.</span> <span class="nav-text">拷贝文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#异常处理"><span class="nav-number">5.4.</span> <span class="nav-text">异常处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字节缓冲流"><span class="nav-number">5.5.</span> <span class="nav-text">字节缓冲流</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符流"><span class="nav-number">6.</span> <span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Reader"><span class="nav-number">6.1.</span> <span class="nav-text">Reader</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Writer"><span class="nav-number">6.2.</span> <span class="nav-text">Writer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符流拷贝文件"><span class="nav-number">6.3.</span> <span class="nav-text">字符流拷贝文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符流的异常处理"><span class="nav-number">6.4.</span> <span class="nav-text">字符流的异常处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符流缓冲区"><span class="nav-number">6.5.</span> <span class="nav-text">字符流缓冲区</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#装饰器模式"><span class="nav-number">7.</span> <span class="nav-text">装饰器模式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#其他流"><span class="nav-number">8.</span> <span class="nav-text">其他流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#序列流-合并流"><span class="nav-number">8.1.</span> <span class="nav-text">序列流(合并流)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SequenceInputStream"><span class="nav-number">8.1.1.</span> <span class="nav-text">SequenceInputStream</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象的序列化"><span class="nav-number">8.2.</span> <span class="nav-text">对象的序列化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Properties"><span class="nav-number">8.3.</span> <span class="nav-text">Properties</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#打印流"><span class="nav-number">8.4.</span> <span class="nav-text">打印流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PrintStream"><span class="nav-number">8.4.1.</span> <span class="nav-text">PrintStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PrintWriter"><span class="nav-number">8.4.2.</span> <span class="nav-text">PrintWriter</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#操作数组的流对象"><span class="nav-number">8.5.</span> <span class="nav-text">操作数组的流对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#操作字节数组"><span class="nav-number">8.5.1.</span> <span class="nav-text">操作字节数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#操作字符数组"><span class="nav-number">8.5.2.</span> <span class="nav-text">操作字符数组</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#操作基本数据类型的流对象"><span class="nav-number">8.6.</span> <span class="nav-text">操作基本数据类型的流对象</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#编码"><span class="nav-number">9.</span> <span class="nav-text">编码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#码表"><span class="nav-number">9.1.</span> <span class="nav-text">码表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编码与解码"><span class="nav-number">9.2.</span> <span class="nav-text">编码与解码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字节流读取中文"><span class="nav-number">9.3.</span> <span class="nav-text">字节流读取中文</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字节流写入中文"><span class="nav-number">9.4.</span> <span class="nav-text">字节流写入中文</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#转换流"><span class="nav-number">9.5.</span> <span class="nav-text">转换流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#InputStreamReader"><span class="nav-number">9.5.1.</span> <span class="nav-text">InputStreamReader</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zxucooly"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">zxucooly</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnp4dWNvb2x5QGdtYWlsLmNvbQ==" title="E-Mail → mailto:zxucooly@gmail.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</span>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zxu's blog</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
